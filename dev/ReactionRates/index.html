<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ReactionRates · Jems.jl</title><meta name="title" content="ReactionRates · Jems.jl"/><meta property="og:title" content="ReactionRates · Jems.jl"/><meta property="twitter:title" content="ReactionRates · Jems.jl"/><meta name="description" content="Documentation for Jems.jl."/><meta property="og:description" content="Documentation for Jems.jl."/><meta property="twitter:description" content="Documentation for Jems.jl."/><meta property="og:url" content="https://Jems-jl.github.io/ReactionRates/"/><meta property="twitter:url" content="https://Jems-jl.github.io/ReactionRates/"/><link rel="canonical" href="https://Jems-jl.github.io/ReactionRates/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Jems.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Jems.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../DualNumbers/">DualSupport.jl</a></li><li><a class="tocitem" href="../NuclearBurning/">NuclearBurning.jl</a></li></ul></li><li><span class="tocitem">Modules</span><ul><li><a class="tocitem" href="../Chem/">Chem</a></li><li><a class="tocitem" href="../Constants/">Constants</a></li><li><a class="tocitem" href="../DualSupport/">DualSupport</a></li><li><a class="tocitem" href="../EOS/">EOS</a></li><li><a class="tocitem" href="../Evolution/">Evolution</a></li><li><a class="tocitem" href="../Opacity/">Opacity</a></li><li><a class="tocitem" href="../Plotting/">Plotting</a></li><li class="is-active"><a class="tocitem" href>ReactionRates</a><ul class="internal"><li><a class="tocitem" href="#General-functionality"><span>General functionality</span></a></li><li><a class="tocitem" href="#Kippenhahn-rates"><span>Kippenhahn rates</span></a></li><li><a class="tocitem" href="#JINA-rates"><span>JINA rates</span></a></li><li><a class="tocitem" href="#Toy-rates"><span>Toy rates</span></a></li></ul></li><li><a class="tocitem" href="../StellarModels/">StellarModels</a></li><li><a class="tocitem" href="../Turbulence/">Turbulence</a></li></ul></li><li><span class="tocitem">Developing</span><ul><li><a class="tocitem" href="../style/">Style Guide</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modules</a></li><li class="is-active"><a href>ReactionRates</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ReactionRates</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Jems-jl/Jems.jl/blob/main/docs/src/ReactionRates.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ReactionRates"><a class="docs-heading-anchor" href="#ReactionRates">ReactionRates</a><a id="ReactionRates-1"></a><a class="docs-heading-anchor-permalink" href="#ReactionRates" title="Permalink"></a></h1><p>The <a href="#ReactionRates">ReactionRates</a> module of Jems handles all things related to the nuclear reaction rates of mixtures.</p><h2 id="General-functionality"><a class="docs-heading-anchor" href="#General-functionality">General functionality</a><a id="General-functionality-1"></a><a class="docs-heading-anchor-permalink" href="#General-functionality" title="Permalink"></a></h2><p>The <a href="#ReactionRates"><code>ReactionRates</code></a> module has a simple structure, rates can be defined as subtypes of the abstract type <a href="#Jems.ReactionRates.AbstractReactionRate"><code>Jems.ReactionRates.AbstractReactionRate</code></a>. A function needs to be defined to compute the rate which dispatches based on the type of the reaction rate. Multiple rates can also be added to the <code>Jems.reactions_list</code> dictionary in order to construct nuclear reaction networks with the <code>NuclearNetworks</code> module.</p><p>A simple example for this would be:</p><pre><code class="language-julia hljs">using Jems.ReactionRates
using Jems.Chem
using Jems.Constants

struct MyReactionRate{TT&lt;:Real} &lt;: ReactionRates.AbstractReactionRate
    name::Symbol
    iso_in::Vector{Symbol}
    num_iso_in::Vector{Int}
    iso_out::Vector{Symbol}
    num_iso_out::Vector{Int}
    Qvalue::TT
end

function ReactionRates.get_reaction_rate(reaction::MyReactionRate, T::T1, ρ::T2, xa::AbstractVector{TT}, xa_index::Dict{Symbol,Int})::TT where {TT,T1,T2}
    rate = 0
    if reaction.name == :my_h1_h1_to_d2
        h1_index = xa_index[:H1]
        h1 = xa[h1_index]
        rate = h1^2 # mock example, we just have h1^2 reactions per second per gram.
    end
    return rate
end

my_reaction = MyReactionRate(:my_h1_h1_to_d2, [:H1], [2], [:D2], [1], (2 * Chem.isotope_list[:H1].mass - Chem.isotope_list[:D2].mass) * AMU * CLIGHT^2)

# evaluate this rate
T = 1e9 # in K
ρ = 10 # in g cm^-3
xa = [1.0, 0.0] # mass fractions, considering only H1 and H2, with 100% H1
xa_index = Dict(:H1=&gt;1, :H2=&gt;2)
ReactionRates.get_reaction_rate(my_reaction, T, ρ, xa, xa_index)

# store in reactions_list, this is done by creating a new dictionary for my rates, in this case with a single entry
ReactionRates.reaction_list[:my_rates] = Dict(:my_h1_h1_to_d2 =&gt; my_reaction)
;</code></pre><p>For more details check the documentation of <a href="#Jems.ReactionRates.AbstractReactionRate"><code>Jems.ReactionRates.AbstractReactionRate</code></a> and <a href="#Jems.ReactionRates.reaction_list"><code>Jems.ReactionRates.reaction_list</code></a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.AbstractReactionRate" href="#Jems.ReactionRates.AbstractReactionRate"><code>Jems.ReactionRates.AbstractReactionRate</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractReactionRate end</code></pre><p>Reaction rates should be defined as a subtype of <code>AbstractReactionRate</code>. Any custom reaction rate needs to contain a set of fixed fields:</p><pre><code class="language-julia hljs">struct MyReactionRate{TT&lt;:Real} &lt;: ReactionRates.AbstractReactionRate
    name::Symbol
    # num_iso_in of isotopes iso_in are converted into num_iso_out of isotopes iso_out
    iso_in::Vector{Symbol}
    num_iso_in::Vector{Int}
    iso_out::Vector{Symbol}
    num_iso_out::Vector{Int}
    Qvalue::TT  # energy released per reaction of this type (i.e. the mass defect), in erg
end</code></pre><p>arbitrary fields can be added here. For instance if you have a tabulated reaction rate you can add the table values or even include the data defining a specific interpolator for it.</p><p>For any custom rate the following function needs to be defined</p><pre><code class="language-julia hljs">function get_reaction_rate(reaction::MyReactionRate, T::T1, ρ::T2, xa::AbstractVector{TT}
    #insert your code here
end</code></pre><p>the function computes the specific reaction rate based on the <code>name</code> field of the reaction or done generically based on the other fields of the struct. Units are in <span>$\mathrm{s^{-1}\;g^{-1}}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/ReactionRates.jl#L7-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.reaction_list" href="#Jems.ReactionRates.reaction_list"><code>Jems.ReactionRates.reaction_list</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reaction_list::Dict{Symbol, Dict{Symbol,AbstractReactionRate}} = Dict()</code></pre><p>The <code>reaction_list</code> dictionary contains reaction rates that are available for construction of nuclear reaction networks. It is a dictionary of dictionaries, for instance accessing <code>reaction_list[:jina_rates]</code> will provide all available rates from JINA.</p><p>You can add a new dictionary of rates to <code>reaction_list</code> by doing</p><pre><code class="language-julia hljs">reaction_list[:kipp_rates] = Dict(
    :kipp_pp =&gt; MyReactionRate(:my_pp, [:H1], [2], [:H2], [1],
                                 ((2 * Chem.isotope_list[:H1].mass - Chem.isotope_list[:He2].mass) * AMU * CLIGHT^2)),
                                 # add whatever more rates
                                 )</code></pre><p>this assumes a specific form for the constructor of <code>MyReactionRate</code> which only includes the mandatory fields, you can use any custom constructor for rate definitions which have more fields than the standard ones.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/ReactionRates.jl#L35-L49">source</a></section></article><h2 id="Kippenhahn-rates"><a class="docs-heading-anchor" href="#Kippenhahn-rates">Kippenhahn rates</a><a id="Kippenhahn-rates-1"></a><a class="docs-heading-anchor-permalink" href="#Kippenhahn-rates" title="Permalink"></a></h2><p>The Kippenhahn reaction rates are based on the <a href="https://doi.org/10.1007/978-3-642-30304-3">Kippenhahn textbook</a> on stellar structure and evolution. Rates are estimated simply by taking the values of <span>$\epsilon_\mathrm{nuc}$</span> derived using the formulae in the textbook and dividing by the <span>$Q$</span> value of the reaction, taken to be simply the mass difference. Rates available are:</p><ul><li><code>:kipp_pp</code>: compound rate for the full pp-chain, takes 4 H1 and makes one He4</li><li><code>:kipp_cno</code>: compund rate for the full cno-chain, takes 4 H1 and makes one He4</li><li><code>:kipp_3alphaCF88</code>: TODO</li><li><code>:kipp_3alphaA99</code>: TODO</li><li><code>:kipp_C12alpha</code>: TODO</li><li><code>:kipp_O16alpha</code>: TODO</li><li><code>:kipp_CC</code>: TODO</li><li><code>:kipp_OO</code>: TODO</li></ul><p>The rates are stored in <code>reactions_list[:kipp_rates]</code>, so they can be accesed as, for example, <code>reactions_list[:kipp_rates][:kipp_pp]</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.KippReactionRate" href="#Jems.ReactionRates.KippReactionRate"><code>Jems.ReactionRates.KippReactionRate</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct KippReactionRate{TT&lt;:Real}&lt;:ReactionRates.AbstractReactionRate</code></pre><p>Struct for a Kippenhahn reaction rate, as defined in the Kippenhahn textbook. Results are evaluated by using the specific formula needed based on the <code>name</code> of the reaction.</p><ul><li><code>name</code>: <code>Symbol</code> giving the name of the reaction.</li><li><code>iso_in</code>: vector that contains all reactants given as symbols (e.g. <code>[:H1, :H2]</code>)</li><li><code>num_iso_in</code>: number of each of the elements in <code>iso_in</code> that are used in the reaction, given as a vector of integers. For example if <code>iso_in</code> is <code>[:He4]</code> and <code>num_iso_in</code> is <code>[3]</code> it means the reaction uses three &quot;:He4&quot;.</li><li><code>iso_out</code>: Same as <code>iso_in</code> but for the products of the reaction.</li><li><code>num_iso_out</code>: Same as <code>num_iso_in</code> but for the products of the reaction.</li><li><code>Qvalue</code>: Q-value of the reaction (in erg), simply given by the mass difference.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/KippRates.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.get_reaction_rate-Union{Tuple{T2}, Tuple{T1}, Tuple{TT}, Tuple{Jems.ReactionRates.KippReactionRate, T1, T2, AbstractVector{TT}, Dict{Symbol, Int64}}} where {TT, T1, T2}" href="#Jems.ReactionRates.get_reaction_rate-Union{Tuple{T2}, Tuple{T1}, Tuple{TT}, Tuple{Jems.ReactionRates.KippReactionRate, T1, T2, AbstractVector{TT}, Dict{Symbol, Int64}}} where {TT, T1, T2}"><code>Jems.ReactionRates.get_reaction_rate</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function get_reaction_rate(reaction::KippReactionRate, T::T1, ρ::T2, xa::AbstractVector{TT},
                            xa_index::Dict{Symbol,Int})::TT where {TT,T1,T2}</code></pre><p>Input: reaction: the reaction to evaluate for</p><ul><li><code>T</code>`: the temperature in K</li><li><code>ρ</code>`: the density g cm^-3</li><li><code>xa</code>`: element mass fractions</li><li><code>xa_index</code>: Dictionary containing the index of each element within <code>xa</code></li></ul><p>Output:</p><ul><li>ϵ_nuc / Qvalue, has units s^-1 g^-1</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/KippRates.jl#L52-L65">source</a></section></article><h2 id="JINA-rates"><a class="docs-heading-anchor" href="#JINA-rates">JINA rates</a><a id="JINA-rates-1"></a><a class="docs-heading-anchor-permalink" href="#JINA-rates" title="Permalink"></a></h2><p>TODO: Jina rates have a bunch of extra functionality to help access independent reactions from their large library, need to describe these and possibly clean up the code there a bit. Jina specific functions should probably be renamed to make that clear.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.JinaReactionRate" href="#Jems.ReactionRates.JinaReactionRate"><code>Jems.ReactionRates.JinaReactionRate</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JinaReactionRate{TT&lt;:Real}&lt;:ReactionRates.AbstractReactionRate</code></pre><p>Struct that holds the following information for a given reaction rate:</p><pre><code class="nohighlight hljs">TODO: explain all the different details that are read from the JINA data</code></pre><ul><li><code>name</code>: <code>Symbol</code> giving the name of the reaction.</li><li><code>iso_in</code>: vector that contains all reactants given as symbols (e.g. <code>[:H1, :H2]</code>)</li><li><code>num_iso_in</code>: number of each of the elements in <code>iso_in</code> that are used in the reaction, given as a vector of integers. For example if <code>iso_in</code> is <code>[:He4]</code> and <code>num_iso_in</code> is <code>[3]</code> it means the reaction uses three &quot;:He4&quot;.</li><li><code>iso_out</code>: Same as <code>iso_in</code> but for the products of the reaction.</li><li><code>num_iso_out</code>: Same as <code>num_iso_in</code> but for the products of the reaction.</li><li><code>Qvalue</code>: Q-value of the reaction (in erg), read from th JINA tables but its simply given by the mass difference.</li><li>coeff: different <span>$a\_i$</span> values of the fit to the reaction. Contains a vector of 7 values.</li><li>set_label: Symbol containing set label of the reaction</li><li>res_rate: A 1 character flag symbol:<ul><li>when blank or n it is a non-resonant rate</li><li>when r it is a resonant rate</li><li>when w it is a weak rate.</li></ul></li><li>rev_rate: a 1 character flag symbol which is set to &#39;v&#39; when it is a reverse rate.</li><li>chapter: chapter this reaction is in. Different chapters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/JinaRates.jl#L1-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.get_reaction_rate-Union{Tuple{T2}, Tuple{T1}, Tuple{TT}, Tuple{Jems.ReactionRates.JinaReactionRate, T1, T2, AbstractVector{TT}, Dict{Symbol, Int64}}} where {TT, T1, T2}" href="#Jems.ReactionRates.get_reaction_rate-Union{Tuple{T2}, Tuple{T1}, Tuple{TT}, Tuple{Jems.ReactionRates.JinaReactionRate, T1, T2, AbstractVector{TT}, Dict{Symbol, Int64}}} where {TT, T1, T2}"><code>Jems.ReactionRates.get_reaction_rate</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_reaction_rate(reaction::JinaReactionRate, T::T1, ρ::T2, xa::AbstractVector{TT}, 
                  xa_index::Dict{Symbol,Int})</code></pre><p>Evaluates the reaction rate, in s^{-1}g^{-1}, by computing Eqs. 1 and 2 from Cyburt+2010.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/JinaRates.jl#L404-L410">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.read_dataset" href="#Jems.ReactionRates.read_dataset"><code>Jems.ReactionRates.read_dataset</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function read_dataset(dataset, dictionary, reference_dictionary)</code></pre><p>Parses a large string object <code>dataset</code>, containing JINA reaction rate data, into a main dictionary and a reference dictionary. The main dictionary has entries with unique keys for every reaction rate in the database (double entries are distinguised with <code>_0</code>, <code>_1</code> at the end of their key Symbol), while the reference dictionary has one entry per reaction equation, but has as value a list of all JINA rates for that reaction equation.</p><p><em>Example:</em> if H1 + H1 -&gt; D2 has two rates in the JINA database, main dictionary will contain:</p><pre><code class="nohighlight hljs">dictionary[:H1_H1_to_D2_0] = _rate_info_(...)
dictionary[:H1_H1_to_D2_1] = _rate_info_(...)</code></pre><p>while the reference dict will contain:</p><pre><code class="nohighlight hljs">reference_dictionary[:H1_H1_to_D2] = [:H1_H1_to_D2_0, :H1_H1_to_D2_1]</code></pre><p>For rates with only one entry in the JINA database, only an &quot;_0&quot; entry is made in the main dictionary, and the reference dictionary contains the list with only that one key.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/JinaRates.jl#L133-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.add_to_references" href="#Jems.ReactionRates.add_to_references"><code>Jems.ReactionRates.add_to_references</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_to_references(main_dict, ref_dict, reaction, new_info::JinaReactionRate)</code></pre><p>Function to identify rates with the same reaction equation Evaluates if a reaction rate is already in the reference dictionary <code>ref_dict</code></p><p>If the reaction rate does not exist already in the reference dictionary: added as a new key to the reference dictionary the value of the key is a list containing all variations of the specific reaction the reaction will be added to the main dictionary</p><p>If the reaction rate already exists in the reference dictionary: keys in the main dictionary update so they have unique keys value of the key of the reaction in <code>ref_dict</code> is updated so all the unique versions of the rate are in</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/JinaRates.jl#L39-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.correct_names" href="#Jems.ReactionRates.correct_names"><code>Jems.ReactionRates.correct_names</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">correct_names(JINA_name)</code></pre><p>Returns the name that corresponds with the JEMS isotope database, given <code>JINA_name</code>, the name of the element as it is given in the JINA library (without the extra spaces).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/JinaRates.jl#L94-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.sort_reaction" href="#Jems.ReactionRates.sort_reaction"><code>Jems.ReactionRates.sort_reaction</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function sort_reaction(elements)</code></pre><p>Extracts the unique elements and the amount of times they appear in the list <code>elements</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/JinaRates.jl#L112-L116">source</a></section></article><h2 id="Toy-rates"><a class="docs-heading-anchor" href="#Toy-rates">Toy rates</a><a id="Toy-rates-1"></a><a class="docs-heading-anchor-permalink" href="#Toy-rates" title="Permalink"></a></h2><p>Early rates used within the code based on the power law relationships given in the lecture notes on stellar evolution of Onno Pols. The lectures only provided relationships of the form <span>$\\epsilon_\\mathrm{nuc}\\propto \rho T^\\nu$</span>, here we made an arbitrary choice for the pre-factor and determine the rate by dividing for the <span>$Q$</span> value. <strong>YOU ARE STRONGLY ADVISED NOT TO USE THESE RATES</strong>.</p><p>Rates available are:</p><ul><li><code>:toy_pp</code>: Compound rate for the pp-chain. Uses <span>$\epsilon_\mathrm{nuc}\propto\rho T^4$</span>.</li><li><code>:toy_cno</code>: Compound rate for the CNO cycle. Uses <span>$\epsilon_\mathrm{nuc}\propto\rho T^{18}$</span>.</li></ul><p>The rates are stored in <code>reactions_list[:toy_rates]</code>, so they can be accesed as, for example, <code>reactions_list[:kipp_rates][:toy_pp]</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.ToyReactionRate" href="#Jems.ReactionRates.ToyReactionRate"><code>Jems.ReactionRates.ToyReactionRate</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ToyReactionRate{TT&lt;:Real}&lt;:ReactionRates.AbstractReactionRate</code></pre><ul><li><code>name</code>: <code>Symbol</code> giving the name of the reaction.</li><li><code>iso_in</code>: vector that contains all reactants given as symbols (e.g. <code>[:H1, :H2]</code>)</li><li><code>num_iso_in</code>: number of each of the elements in <code>iso_in</code> that are used in the reaction, given as a vector of integers. For example if <code>iso_in</code> is <code>[:He4]</code> and <code>num_iso_in</code> is <code>[3]</code> it means the reaction uses three &quot;:He4&quot;.</li><li><code>iso_out</code>: Same as <code>iso_in</code> but for the products of the reaction.</li><li><code>num_iso_out</code>: Same as <code>num_iso_in</code> but for the products of the reaction.</li><li><code>Qvalue</code>: Q-value of the reaction (in erg), simply given by the mass difference.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/ToyRates.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.ReactionRates.get_reaction_rate-Union{Tuple{T2}, Tuple{T1}, Tuple{TT}, Tuple{Jems.ReactionRates.ToyReactionRate, T1, T2, AbstractVector{TT}, Dict{Symbol, Int64}}} where {TT, T1, T2}" href="#Jems.ReactionRates.get_reaction_rate-Union{Tuple{T2}, Tuple{T1}, Tuple{TT}, Tuple{Jems.ReactionRates.ToyReactionRate, T1, T2, AbstractVector{TT}, Dict{Symbol, Int64}}} where {TT, T1, T2}"><code>Jems.ReactionRates.get_reaction_rate</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function get_reaction_rate(reaction::ToyReactionRate, T::T1, ρ::T2, xa::AbstractVector{TT},
                            xa_index::Dict{Symbol,Int})::TT where {TT,T1,T2}</code></pre><p>Input: reaction: the reaction to evaluate for</p><ul><li><code>T</code>`: the temperature in K</li><li><code>ρ</code>`: the density g cm^-3</li><li><code>xa</code>`: element mass fractions</li><li><code>xa_index</code>: Dictionary containing the index of each element within <code>xa</code></li></ul><p>Output:</p><ul><li>ϵ_nuc / Qvalue, has units s^-1 g^-1</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/fc52c562b699dd0ff5a7f0f817d66e038f699693/src/ReactionRates/ToyRates.jl#L28-L41">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Plotting/">« Plotting</a><a class="docs-footer-nextpage" href="../StellarModels/">StellarModels »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Friday 11 April 2025 14:18">Friday 11 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
