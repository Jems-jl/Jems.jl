<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>StellarModels · Jems.jl</title><meta name="title" content="StellarModels · Jems.jl"/><meta property="og:title" content="StellarModels · Jems.jl"/><meta property="twitter:title" content="StellarModels · Jems.jl"/><meta name="description" content="Documentation for Jems.jl."/><meta property="og:description" content="Documentation for Jems.jl."/><meta property="twitter:description" content="Documentation for Jems.jl."/><meta property="og:url" content="https://Jems-jl.github.io/StellarModels/"/><meta property="twitter:url" content="https://Jems-jl.github.io/StellarModels/"/><link rel="canonical" href="https://Jems-jl.github.io/StellarModels/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Jems.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Jems.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../DualNumbers/">DualSupport.jl</a></li><li><a class="tocitem" href="../NuclearBurning/">NuclearBurning.jl</a></li></ul></li><li><span class="tocitem">Modules</span><ul><li><a class="tocitem" href="../Chem/">Chem</a></li><li><a class="tocitem" href="../Constants/">Constants</a></li><li><a class="tocitem" href="../DualSupport/">DualSupport</a></li><li><a class="tocitem" href="../EOS/">EOS</a></li><li><a class="tocitem" href="../Evolution/">Evolution</a></li><li><a class="tocitem" href="../Opacity/">Opacity</a></li><li><a class="tocitem" href="../Plotting/">Plotting</a></li><li><a class="tocitem" href="../ReactionRates/">ReactionRates</a></li><li class="is-active"><a class="tocitem" href>StellarModels</a><ul class="internal"><li><a class="tocitem" href="#StellarModel.jl"><span>StellarModel.jl</span></a></li><li><a class="tocitem" href="#StellarModelProperties.jl"><span>StellarModelProperties.jl</span></a></li><li><a class="tocitem" href="#OneZone.jl"><span>OneZone.jl</span></a></li><li><a class="tocitem" href="#Options.jl"><span>Options.jl</span></a></li><li><a class="tocitem" href="#InitialCondition.jl"><span>InitialCondition.jl</span></a></li><li><a class="tocitem" href="#IO.jl"><span>IO.jl</span></a></li><li><a class="tocitem" href="#Remesher.jl"><span>Remesher.jl</span></a></li><li><a class="tocitem" href="#PlotterInterface.jl"><span>PlotterInterface.jl</span></a></li></ul></li><li><a class="tocitem" href="../Turbulence/">Turbulence</a></li></ul></li><li><span class="tocitem">Developing</span><ul><li><a class="tocitem" href="../style/">Style Guide</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modules</a></li><li class="is-active"><a href>StellarModels</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>StellarModels</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Jems-jl/Jems.jl/blob/main/docs/src/StellarModels.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="StellarModels"><a class="docs-heading-anchor" href="#StellarModels">StellarModels</a><a id="StellarModels-1"></a><a class="docs-heading-anchor-permalink" href="#StellarModels" title="Permalink"></a></h1><p>The StellarModels module of Jems defines models that it can evolve, along with their properties, initialization, IO operations, and option configuration.</p><h2 id="StellarModel.jl"><a class="docs-heading-anchor" href="#StellarModel.jl">StellarModel.jl</a><a id="StellarModel.jl-1"></a><a class="docs-heading-anchor-permalink" href="#StellarModel.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.StellarModel" href="#Jems.StellarModels.StellarModel"><code>Jems.StellarModels.StellarModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct StellarModel{TN&lt;:Real,TD&lt;:Real,TEOS&lt;:EOS.AbstractEOS,TKAP&lt;:Opacity.AbstractOpacity}</code></pre><p>An evolutionary model for a star, containing information about the star&#39;s current state, as well as the independent variables of the model and its equations.</p><p>The struct has four parametric types, <code>TN</code> for &#39;normal&#39; numbers, <code>TD</code> for dual numbers used in automatic differentiation, <code>TEOS</code> for the type of EOS being used and <code>TKAP</code> for the type of opacity law being used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/StellarModel.jl#L6-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.StellarModel-Tuple{Vector{Symbol}, Vector{Symbol}, Vector{Function}, Function, Int64, Int64, Vector{Function}, Jems.NuclearNetworks.NuclearNetwork, Jems.EOS.AbstractEOS, Jems.Opacity.AbstractOpacity, Jems.Turbulence.AbstractTurb}" href="#Jems.StellarModels.StellarModel-Tuple{Vector{Symbol}, Vector{Symbol}, Vector{Function}, Function, Int64, Int64, Vector{Function}, Jems.NuclearNetworks.NuclearNetwork, Jems.EOS.AbstractEOS, Jems.Opacity.AbstractOpacity, Jems.Turbulence.AbstractTurb}"><code>Jems.StellarModels.StellarModel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StellarModel(varnames::Vector{Symbol}, structure_equations::Vector{Function},
            nvars::Int, nspecies::Int, nz::Int, eos::AbstractEOS, opacity::AbstractOpacity)</code></pre><p>Constructor for a <code>StellarModel</code> instance, using <code>varnames</code> for the independent variables, functions of the <code>structure_equations</code> to be solved, number of independent variables <code>nvars</code>, number of species in the network <code>nspecies</code> number of zones in the model <code>nz</code> and an iterface to the EOS and Opacity laws.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/StellarModel.jl#L63-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.adjusted_stellar_model_data-Tuple{Any, Int64, Int64}" href="#Jems.StellarModels.adjusted_stellar_model_data-Tuple{Any, Int64, Int64}"><code>Jems.StellarModels.adjusted_stellar_model_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">adjusted_stellar_model_data(sm, new_nz::Int, new_nextra::Int)</code></pre><p>Returns a new copy of sm with an adjusted allocated size. This creates a full duplicate without removing the old stellar model, which is not very memory friendly. One possible optimization for the future. The new model is created to have <code>new_nz</code> zones with an extra padding of <code>new_nextra</code> zones to allow for remeshing. The new model will copy the contents of</p><ul><li>ind_vars</li><li>mstar</li><li>m</li><li>dm</li><li>time</li><li>dt</li><li>model_number</li><li>psi, ssi, esi</li><li>opt As well as the nuclear network, opacity and EOS.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/StellarModel.jl#L162-L181">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.cycle_props!-Tuple{Jems.StellarModels.StellarModel}" href="#Jems.StellarModels.cycle_props!-Tuple{Jems.StellarModels.StellarModel}"><code>Jems.StellarModels.cycle_props!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cycle_props!(sm::StellarModel)</code></pre><p>Moves the model properties of the StellarModel <code>sm</code> over one state: start<em>step</em>props -&gt; props -&gt; prv<em>step</em>props -&gt; start<em>step</em>props</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/StellarModel.jl#L136-L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.uncycle_props!-Tuple{Jems.StellarModels.StellarModel}" href="#Jems.StellarModels.uncycle_props!-Tuple{Jems.StellarModels.StellarModel}"><code>Jems.StellarModels.uncycle_props!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">uncycle_props!(sm::StellarModel)</code></pre><p>Moves the model properties of the StellarModel <code>sm</code> back one state: start<em>step</em>props &lt;- props &lt;- prv<em>step</em>props &lt;- start<em>step</em>props</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/StellarModel.jl#L149-L154">source</a></section></article><h2 id="StellarModelProperties.jl"><a class="docs-heading-anchor" href="#StellarModelProperties.jl">StellarModelProperties.jl</a><a id="StellarModelProperties.jl-1"></a><a class="docs-heading-anchor-permalink" href="#StellarModelProperties.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.copy_mesh_properties!-Tuple{Any, Any, Any}" href="#Jems.StellarModels.copy_mesh_properties!-Tuple{Any, Any, Any}"><code>Jems.StellarModels.copy_mesh_properties!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function copy_mesh!(sm, props_in, props_out)</code></pre><p>Copies over the mesh quantities, i.e., <code>nz</code>, <code>m</code>, <code>dm</code>, and <code>ind_vars</code> from <code>props_in</code> into <code>props_out</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/StellarModelProperties.jl#L282-L286">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.evaluate_stellar_model_properties!-Union{Tuple{TCellDualData}, Tuple{TDual}, Tuple{TN}, Tuple{Any, Jems.StellarModels.StellarModelProperties{TN, TDual, TCellDualData}}} where {TN&lt;:Real, TDual&lt;:ForwardDiff.Dual, TCellDualData}" href="#Jems.StellarModels.evaluate_stellar_model_properties!-Union{Tuple{TCellDualData}, Tuple{TDual}, Tuple{TN}, Tuple{Any, Jems.StellarModels.StellarModelProperties{TN, TDual, TCellDualData}}} where {TN&lt;:Real, TDual&lt;:ForwardDiff.Dual, TCellDualData}"><code>Jems.StellarModels.evaluate_stellar_model_properties!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function evaluate_stellar_model_properties!(sm, props::StellarModelProperties{TDual, TCellDualData}) where
    {TDual &lt;: ForwardDiff.Dual, TCellDualData}</code></pre><p>Evaluates the stellar model properties <code>props</code> from the <code>ind_vars</code> array. The goal is to save the &#39;state&#39; of the StellarModel so we can easily get properties like rates, eos, opacity values, and retrace if a retry is called. This does <em>not</em> update the mesh/ind_vars arrays.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/StellarModelProperties.jl#L191-L198">source</a></section></article><h2 id="OneZone.jl"><a class="docs-heading-anchor" href="#OneZone.jl">OneZone.jl</a><a id="OneZone.jl-1"></a><a class="docs-heading-anchor-permalink" href="#OneZone.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.OneZone" href="#Jems.StellarModels.OneZone"><code>Jems.StellarModels.OneZone</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">OneZone(varnames::Vector{Symbol}, composition_equation::Function,
            nvars::Int, nspecies::Int)</code></pre><p>Constructor for a <code>OneZone</code> instance, using <code>varnames</code> for the independent variables, the composition equation to be solved, number of independent variables <code>nvars</code>, number of species in the network <code>nspecies</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/OneZone.jl#L43-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.OneZone" href="#Jems.StellarModels.OneZone"><code>Jems.StellarModels.OneZone</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct OneZone{TNUMBER&lt;:Real,TDUALFULL&lt;:ForwardDiff.Dual,
                          TPROPS&lt;:StellarModels.AbstractModelProperties,
                          TNET&lt;:NuclearNetworks.AbstractNuclearNetwork,
                          TSOLVER&lt;:StellarModels.AbstractSolverData}</code></pre><p>Structure definition of a model having one internal zone.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/OneZone.jl#L3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.evaluate_one_zone_properties!-Union{Tuple{TDual}, Tuple{TN}, Tuple{Any, Jems.StellarModels.OneZoneProperties{TN, TDual}}} where {TN&lt;:Real, TDual&lt;:ForwardDiff.Dual}" href="#Jems.StellarModels.evaluate_one_zone_properties!-Union{Tuple{TDual}, Tuple{TN}, Tuple{Any, Jems.StellarModels.OneZoneProperties{TN, TDual}}} where {TN&lt;:Real, TDual&lt;:ForwardDiff.Dual}"><code>Jems.StellarModels.evaluate_one_zone_properties!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function evaluate_stellar_model_properties!(oz, props::StellarModelProperties{TDual, TCellDualData}) where
    {TDual &lt;: ForwardDiff.Dual, TCellDualData}</code></pre><p>Evaluates the stellar model properties <code>props</code> from the <code>ind_vars</code> array. The goal is to save the &#39;state&#39; of the StellarModel so we can easily get properties like rates, eos, opacity values, and retrace if a retry is called. This does <em>not</em> update the mesh/ind_vars arrays.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/OneZone.jl#L135-L142">source</a></section></article><h2 id="Options.jl"><a class="docs-heading-anchor" href="#Options.jl">Options.jl</a><a id="Options.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Options.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.IOOptions" href="#Jems.StellarModels.IOOptions"><code>Jems.StellarModels.IOOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct IOOptions</code></pre><p>Substructure of Options containing controls relating to input/output of data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L69-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.Options" href="#Jems.StellarModels.Options"><code>Jems.StellarModels.Options</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Options</code></pre><p>Structure containing tweakable controls of Jems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L136-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.PhysicsOptions" href="#Jems.StellarModels.PhysicsOptions"><code>Jems.StellarModels.PhysicsOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct PhysicsOptions</code></pre><p>Options that affect the physics of the computed model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L127-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.PlottingOptions" href="#Jems.StellarModels.PlottingOptions"><code>Jems.StellarModels.PlottingOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct PlottingOptions</code></pre><p>Options relating to the live plotting of the simulation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L99-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.RemeshOptions" href="#Jems.StellarModels.RemeshOptions"><code>Jems.StellarModels.RemeshOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct RemeshOptions</code></pre><p>Substructure of Options containing controls relating to remeshing</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.SolverOptions" href="#Jems.StellarModels.SolverOptions"><code>Jems.StellarModels.SolverOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct SolverOptions</code></pre><p>Substructure of Options containing controls relating to the Newton solver</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.TerminationOptions" href="#Jems.StellarModels.TerminationOptions"><code>Jems.StellarModels.TerminationOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct TerminationOptions</code></pre><p>Substructure of Options containing controls relating to termination of the simulation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.TimestepOptions" href="#Jems.StellarModels.TimestepOptions"><code>Jems.StellarModels.TimestepOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct TimestepOptions</code></pre><p>Substructure of Options containing controls relating to timestepping</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.set_options!-Tuple{Jems.StellarModels.Options, String}" href="#Jems.StellarModels.set_options!-Tuple{Jems.StellarModels.Options, String}"><code>Jems.StellarModels.set_options!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_options!(opt::Options, toml_path::String)</code></pre><p>Sets the controls in <code>opt</code> to the values supplied in the TOML file <code>toml_path</code>, containing <code>key: value</code> pairs. Invalid keys are not allowed, and an Exception will be thrown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Options.jl#L157-L162">source</a></section></article><h2 id="InitialCondition.jl"><a class="docs-heading-anchor" href="#InitialCondition.jl">InitialCondition.jl</a><a id="InitialCondition.jl-1"></a><a class="docs-heading-anchor-permalink" href="#InitialCondition.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.RungeKutta_LaneEmden-Tuple{Any}" href="#Jems.StellarModels.RungeKutta_LaneEmden-Tuple{Any}"><code>Jems.StellarModels.RungeKutta_LaneEmden</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RungeKutta_LaneEmden(n)</code></pre><p>Computes the solution of the Lane-Emden equation for polytropic index <code>n</code> until the first zero by returning <code>xvals</code>, containing ξ values; <code>yvals</code>, containing the corresponding function values θ<em>n; and <code>zvals</code>, containing the derivative. This naming convention for x (=independent variable), y (=corresponding solution values) and z (=corresponding derivative values) is used throughout this function. The Lane-Emden equation is solved by performing the Runge-Kutta method of order 4. The stepsize is allowed to decrease as the function reaches the first zero. The function takes care of the core boundary conditions at ξ=0. The last ξ value (i.e. the first zero of the Lane-Emden solution) is calculated by linearly extrapolating the last two points of the solution. This first zero ξ</em>1 can be found as <code>xvals</code>[end].</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/InitialCondition.jl#L24-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.get_logdq-Union{Tuple{TT}, Tuple{Int64, Int64, TT, TT, TT, Int64}} where TT&lt;:Real" href="#Jems.StellarModels.get_logdq-Union{Tuple{TT}, Tuple{Int64, Int64, TT, TT, TT, Int64}} where TT&lt;:Real"><code>Jems.StellarModels.get_logdq</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_logdq(k::Int, nz::Int, logdq_low::TT, logdq_high::TT, numregion::Int)::TT where {TT&lt;:Real}</code></pre><p>Computes the logarithm mass chunk <code>logdq</code> for zone <code>k</code> of a profile with total zones <code>nz</code>, while keeping in mind to better resolve the first and last <code>numregion</code> zones of the profile. It linearly interpolates the value from the inputs <code>logdq_low</code> and <code>logdq_high</code> in these regions, while keeping <code>logdq_high</code> in the middle zones.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/InitialCondition.jl#L7-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.getlnT_NewtonRhapson-NTuple{5, Any}" href="#Jems.StellarModels.getlnT_NewtonRhapson-NTuple{5, Any}"><code>Jems.StellarModels.getlnT_NewtonRhapson</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getlnT_NewtonRhapson(lnT_initial, lnρ, P, massfractions, eos)</code></pre><p>Computes the temperature lnT starting from a density <code>lnρ</code>, a pressure <code>P</code>, a composition <code>xa</code>, a species <code>species</code> and an equation of state <code>eos</code>. The equation of state gives us the pressure,  given a certain temperature and density. The idea is to match this pressure with the given pressure <code>P</code> by fitting the temperature. Starting from an initial guess <code>lnT_initial</code>,  the Newton-Rhapson method is used to converge to the final temperature in an interative way. Each iteration, a new lnT is computed according to the Newton-Rhapson formula using the derivative dlnP/dlnT. Next, based on this new lnT, the equation of state returns a new pressure. The algorithm stops when the difference between the calculated pressure and the given pressure is smaller than a certain threshold. The temperature at which this occurs is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/InitialCondition.jl#L111-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.n_polytrope_initial_condition!-Tuple{Any, Jems.StellarModels.StellarModel, Int64, Any, Any, Any, Jems.Chem.AbundanceList, Real, Real}" href="#Jems.StellarModels.n_polytrope_initial_condition!-Tuple{Any, Jems.StellarModels.StellarModel, Int64, Any, Any, Any, Jems.Chem.AbundanceList, Real, Real}"><code>Jems.StellarModels.n_polytrope_initial_condition!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">n_polytrope_initial_condition(n,sm::StellarModel, M::Real, R::Real; initial_dt=100 * SECYEAR)</code></pre><p>Initializes the stellar model properties <code>sm.props</code> with a mesh of size <code>nz</code> with values corresponding to a polytrope of index <code>n</code>, setting <code>sm.props.m</code>, <code>sm.props.dm</code> and the independent variables <code>sm.props.ind_vars</code>, etc. accordingly. Also sets the initial timestep to be taken, <code>initial_dt</code>. It first calls the solution to the Lane-Emden equation for index <code>n</code> and then sets radii, densities, pressures and luminosities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/InitialCondition.jl#L153-L160">source</a></section></article><h2 id="IO.jl"><a class="docs-heading-anchor" href="#IO.jl">IO.jl</a><a id="IO.jl-1"></a><a class="docs-heading-anchor-permalink" href="#IO.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.create_output_files!-Tuple{Jems.StellarModels.AbstractModel}" href="#Jems.StellarModels.create_output_files!-Tuple{Jems.StellarModels.AbstractModel}"><code>Jems.StellarModels.create_output_files!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_output_files(sm::StellarModel)</code></pre><p>Creates output files for history and profile data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/IO.jl#L183-L187">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.get_history_dataframe_from_hdf5-Tuple{Any}" href="#Jems.StellarModels.get_history_dataframe_from_hdf5-Tuple{Any}"><code>Jems.StellarModels.get_history_dataframe_from_hdf5</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_history_dataframe_from_hdf5(hdf5_filename)</code></pre><p>Returns a DataFrame object built from an hdf5 file, named <code>hdf5_filename</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/IO.jl#L375-L379">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.get_profile_dataframe_from_hdf5-Tuple{Any, Any}" href="#Jems.StellarModels.get_profile_dataframe_from_hdf5-Tuple{Any, Any}"><code>Jems.StellarModels.get_profile_dataframe_from_hdf5</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_profile_dataframe_from_hdf5(hdf5_filename, profile_name)</code></pre><p>Returns a DataFrame object built from an hdf5 file, named <code>hdf5_filename</code>, considering the column named <code>profile_name</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/IO.jl#L397-L401">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.get_profile_names_from_hdf5-Tuple{Any}" href="#Jems.StellarModels.get_profile_names_from_hdf5-Tuple{Any}"><code>Jems.StellarModels.get_profile_names_from_hdf5</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_profile_names_from_hdf5(hdf5_filename)</code></pre><p>Retruns the column names of the profile data contained in the hdf5 file <code>hdf5_filename</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/IO.jl#L386-L390">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.write_data-Tuple{Jems.StellarModels.AbstractModel}" href="#Jems.StellarModels.write_data-Tuple{Jems.StellarModels.AbstractModel}"><code>Jems.StellarModels.write_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_data(sm::StellarModel)</code></pre><p>Saves data (history/profile) for the current model, as required by the settings in <code>sm.opt.io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/IO.jl#L254-L258">source</a></section></article><h2 id="Remesher.jl"><a class="docs-heading-anchor" href="#Remesher.jl">Remesher.jl</a><a id="Remesher.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Remesher.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.adjust_props_size!-Tuple{Jems.StellarModels.StellarModel, Int64, Int64}" href="#Jems.StellarModels.adjust_props_size!-Tuple{Jems.StellarModels.StellarModel, Int64, Int64}"><code>Jems.StellarModels.adjust_props_size!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">adjust_props_size(sm, new_nz::Int, nextra::Int)</code></pre><p>Returns a new StellarModelProperties object with an adjusted size. Copies over the following from the currect active properties:</p><ul><li>nz</li><li>dt</li><li>time</li><li>ind_vars</li><li>mstar</li><li>m</li><li>dm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Remesher.jl#L171-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.remesher!-Tuple{Jems.StellarModels.StellarModel}" href="#Jems.StellarModels.remesher!-Tuple{Jems.StellarModels.StellarModel}"><code>Jems.StellarModels.remesher!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remesher!</code></pre><p>Acts on sm.start<em>step</em>props using info from sm.prv<em>step</em>props to decide whether to merge/split cells</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/Remesher.jl#L1-L5">source</a></section></article><h2 id="PlotterInterface.jl"><a class="docs-heading-anchor" href="#PlotterInterface.jl">PlotterInterface.jl</a><a id="PlotterInterface.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PlotterInterface.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Jems.StellarModels.Plotter" href="#Jems.StellarModels.Plotter"><code>Jems.StellarModels.Plotter</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct Plotter</code></pre><p>Structure that contains references to windows, axes and observables to be plotted with Jems.Plotting</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jems-jl/Jems.jl/blob/a7eff4611e7c8aabe60749bd985f9e141a2795b0/src/StellarModels/PlotterInterface.jl#L16-L20">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ReactionRates/">« ReactionRates</a><a class="docs-footer-nextpage" href="../Turbulence/">Turbulence »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Wednesday 9 April 2025 13:04">Wednesday 9 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
